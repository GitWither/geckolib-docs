
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>Animation Controllers -  </title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../stylesheet/extra_stylesheet.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#animation-controllers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title=" " class="md-header-nav__button md-logo" aria-label=" ">
      
  <img src="../images/geckolib_webtitle.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
             
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Animation Controllers
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title=" " class="md-nav__button md-logo" aria-label=" ">
      
  <img src="../images/geckolib_webtitle.png" alt="logo">

    </a>
     
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Animations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Animations" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Animations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Using-Your-Animations/" class="md-nav__link">
      Using Your Animations
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Animation Controllers
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Animation Controllers
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transition-lengths" class="md-nav__link">
    Transition Lengths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation-builders" class="md-nav__link">
    Animation Builders
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Animation-Managers/" class="md-nav__link">
      Animation Managers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Sounds%2C-Particles%2C-and-Custom-Instruction-Keyframes/" class="md-nav__link">
      Sounds, Particles, and Custom Keyframes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Examples/" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Miscellaneous-Features/" class="md-nav__link">
      Miscellaneous Features
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Troubleshooting/" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Credits/" class="md-nav__link">
      Credits
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transition-lengths" class="md-nav__link">
    Transition Lengths
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animation-builders" class="md-nav__link">
    Animation Builders
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="animation-controllers">Animation Controllers</h1>
<p>GeckoLib is able to mix and match animations, play multiple simultaneously, and smoothly transition between animations. Animation Controllers are what make this possible. Each Animation Controller should represent a logical animation category. For instance, if you want your entity to have a walking animation, an arm animation, and a head animation, you should split it up into as many Animation Controllers as possible. Although this may seem counter intuitive, you give yourself much more control by being able to mix and match animations whenever you want.</p>
<h3 id="transition-lengths">Transition Lengths</h3>
<p>Each Animation Controller has a transition length property, which determines how many <strong>ticks</strong> it takes to transition from one animation to another. You can also change this property during an <code>AnimationPredicate</code>, to dynamically change how long it takes to transition between animations.</p>
<h2 id="limitations">Limitations</h2>
<p>Even though GeckoLib allows you to play multiple animations at the same time, you must take care to never play two Animations that involve the same bone properties at the same time. For example, say you have two bones, Bone A and Bone B.</p>
<p>You <strong>CAN</strong>:
* Play two unrelated animations, one on each bone
* Play one animation that changes Bone A's rotation and Bone B's Position
* Play one animation that changes Bone A's rotation, and a different animation that changes Bone A's position/scale</p>
<p>You <strong>CANNOT</strong>:
* Play one animation that changes Bone A's position, and a different animation that also changes Bone A's position</p>
<p>Each Animation Controller can only play one animation at a time, however you can assign entire queues of animations to an Animation Controller, so you can play one Animation after another, after another, after another, etc. This can be accomplished using Animation Builders.</p>
<h2 id="animation-builders">Animation Builders</h2>
<p>Animation Builders follow the builder pattern. This means that every method returns an instance of this class. You can stack method calls, like this: </p>
<div class="codehilite"><pre><span></span><code><span class="n">AnimationBuilder</span> <span class="n">jumpAnimationBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnimationBuilder</span><span class="p">().</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;jump&quot;</span><span class="p">).</span><span class="na">addRepeatingAnimation</span><span class="p">(</span><span class="s">&quot;run&quot;</span><span class="p">,</span> <span class="s">&quot;5&quot;</span><span class="p">);</span>
<span class="n">jumpController</span><span class="p">.</span><span class="na">setAnimation</span><span class="p">(</span><span class="n">jumpAnimationBuilder</span><span class="p">);</span>
</code></pre></div>

<p><code>AnimationBuilder</code> exposes several methods to set animations.</p>
<ol>
<li><code>addAnimation(String animationName)</code> - Adds a single animation to the builder</li>
<li><code>addAnimation(String animationName, Boolean shouldLoop)</code> - Adds a single animation and overrides the loop setting on that animation.</li>
<li><code>addRepeatingAnimation(String animationName, int timesToRepeat)</code> - Adds a single animation to the queue several times. This is useful if you want to run a single animation several times, and then run a different animation afterwards. You can of course just run <code>addAnimation</code> several times.</li>
</ol>
<p>After creating your <code>AnimationBuilder</code>, you need to assign it to the <code>AnimationController</code>. You can do this with <code>AnimationController#setAnimation(AnimationBuilder builder)</code>. You should run this client side, and usually in the AnimationPredicate. This method <em>can be run every tick, and the animation won't be restarted every tick</em>. It's also important that the name of the animation you set is exactly the same as in the json file. <strong>Sometimes the name of the animation in the json file is not the same as in blockbench</strong></p>
<p>Full Example of using an <code>AnimationBuilder</code> inside an <code>AnimationPredicate</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">private</span> <span class="o">&lt;</span><span class="n">ENTITY</span> <span class="kd">extends</span> <span class="n">Entity</span><span class="o">&gt;</span> <span class="kt">boolean</span> <span class="nf">moveController</span><span class="p">(</span><span class="n">AnimationTestEvent</span><span class="o">&lt;</span><span class="n">ENTITY</span><span class="o">&gt;</span> <span class="n">entityAnimationTestEvent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">moveController</span><span class="p">.</span><span class="na">transitionLength</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">KeyboardHandler</span><span class="p">.</span><span class="na">isQDown</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">moveController</span><span class="p">.</span><span class="na">setAnimation</span><span class="p">(</span><span class="k">new</span> <span class="n">AnimationBuilder</span><span class="p">().</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.spitfly&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.sit&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.sit&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.run&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.run&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">).</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.sleep&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="n">moveController</span><span class="p">.</span><span class="na">setAnimation</span><span class="p">(</span><span class="k">new</span> <span class="n">AnimationBuilder</span><span class="p">().</span><span class="na">addAnimation</span><span class="p">(</span><span class="s">&quot;tigris.fly&quot;</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../Using-Your-Animations/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Using Your Animations
              </div>
            </div>
          </a>
        
        
          <a href="../Animation-Managers/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Animation Managers
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>